# UAT Profile Configuration
# This profile is used for UAT (User Acceptance Testing) environment

# Application Name
spring.application.name=common-service-v2-uat

# Mock Configuration - DISABLED for UAT profile
app.mockEnabled=false
otp.service.url=http://34.1.33.119:9097/rb-user-management/api/v1/otp/generate
bank.middleware.url=http://localhost:8080
card.bin.length=6
# Database Configuration - Oracle Database
spring.datasource.url=jdbc:oracle:thin:@10.1.126.12:1522:DBX_BO
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
spring.datasource.username=Dbx#bodkb25
spring.datasource.password=Dbx#bodkb25

# JPA Configuration for Oracle
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect

# Database Initialization Configuration for UAT
spring.sql.init.mode=always
spring.sql.init.platform=oracle
spring.sql.init.schema-locations=classpath:sql/oracle/
spring.sql.init.data-locations=classpath:sql/oracle/
spring.sql.init.encoding=UTF-8
spring.sql.init.separator=;
spring.sql.init.continue-on-error=true

# Logging Configuration for UAT
logging.level.com.digi.common=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Rate calculation configuration
app.rate.digits=6

# Application Security Configuration
app.security.userId=uat_admin
app.security.password=uat_admin_123

# ============================================================================
# Middleware Service Configuration (Feign Client)
# ============================================================================
middleware.base-url=http://localhost:8080
middleware.api-path=/api/v1/bank-middleware
middleware.connect-timeout=10000
middleware.read-timeout=30000

# ============================================================================
# Feign Client Logging (Optional - for debugging)
# ============================================================================
logging.level.com.dukhan.bank.infrastructure.client.middleware.MiddlewareFeignClient=DEBUG

# Kafka Configuration - UAT
spring.kafka.bootstrap-servers=uat-kafka-server:9092
spring.kafka.consumer.group-id=uatGroup
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=*
spring.kafka.consumer.properties.spring.json.value.default.type=com.digi.common.dto.KafkaLogDto
spring.kafka.consumer.properties.security.protocol=SASL_PLAINTEXT
spring.kafka.consumer.properties.sasl.mechanism=PLAIN
spring.kafka.consumer.properties.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="uat_kafka_admin" password="uat_kafka_password";

spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.properties.security.protocol=SASL_PLAINTEXT
spring.kafka.producer.properties.sasl.mechanism=PLAIN
spring.kafka.producer.properties.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="uat_kafka_admin" password="uat_kafka_password";

# Kafka Admin
spring.kafka.admin.properties.security.protocol=SASL_PLAINTEXT
spring.kafka.admin.properties.sasl.mechanism=PLAIN
spring.kafka.admin.properties.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="uat_kafka_admin" password="uat_kafka_password";

# Custom Topic Configuration
kafka.topic.gateway-logs=uat-gateway-log-topic

# Optional - Avoid crash on missing topic
spring.kafka.listener.missing-topics-fatal=false

# Bank Middleware Configuration
app.bank-middleware.url=http://localhost:8080/api/v1/bank-middleware